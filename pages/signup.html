<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>R&M Cafe</title>
    <link rel="stylesheet" href="../assets/css/signup.css">
</head>

<body>
    <div>
        <h1 class="now">R&M Cafe</h1>
        <span class="rm">
            <a href="../index.html" class="a-1">Home</a>
            <a href="./rmmenu.html" class="a-1">Menu</a>
            <a href="./rmreview.html" class="a-1">Review</a>
            <a href="./rmcontact.html" class="a-1">Contact</a>
            <a href="./cart.html" class="a-1">Cart</a>
        </span>
    </div>
    <br>
    <hr>

    <div class="div-1">
        <form class="form" onsubmit="submitHandler()">
            <label>Full Name:</label> <input type="text" class="input-1" id="fullName" required> <br>
            <label>Phone Number:</label> <input type="number" min="0000000001" maxlength="10" class="input-2" id="phoneNumber" required> <br>
            <label>Email Id:</label> <input type="email" class="input-2" id="email" required> <br>
            <label>Set Password:</label> <input type="password" class="input-2" id="password" required> <br>
            <input id="input-3" type="checkbox" name="t&c" required>
            <label class="label-1">I agree to the<a href="./rmtc.html" class="a-2">terms and conditions</a></label><br>
            <button type="submit">Register</button>
        </form>
    </div>

    <script>
        let details = [];

        function submitHandler() {
            event.preventDefault();
            const username = document.getElementById("fullName").value;
            const contact = document.getElementById("phoneNumber").value;
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;

            let userDetail = {
                "username": username,
                "contact": contact,
                "email": email,
                "password": password
            };
            details.push(userDetail);
            const detailsInString = JSON.stringify(details);
            localStorage.setItem("details", detailsInString);

            window.location.href = "./rmmenu.html";
        }

        function onRefresh() {
            let detail = localStorage.getItem("details");
            if (detail) {
                detail = details;
            } else {
                details = [];
            }

        }
        onRefresh();
    </script>

</body>

</html>